<%= semantic_form_for [:admin, @attachment], html: { enctype: "multipart/form-data" }  do |f| %>
  <%= f.inputs name: "Required Information" do %>
    <%= f.input :title, label: "Image caption" %>
    <%= f.input :image, as: "file",
                        input_html: {multiple: @attachment.new_record?},
                        label: "Choose image to upload",
                        hint: "When editing, the new image will overwrite the old image. Multiple images are allowed, you can select multiple images holding CTRL or Command keys when choosing images." %>
  <% end %>
  <%= f.actions do %>
    <%= f.action :submit, button_html: {class: "primary", data: {disable_with: 'Uploading...'}} %>
  <% end %>
<% end %>


<script type="text/javascript">
  $("#attachment_title").counter({
      count: 'up',
      goal: 160
  });
  $("form.formtastic").validate({
    rules: {
      "attachment[image]": { required: true }
    }
  });
</script>

